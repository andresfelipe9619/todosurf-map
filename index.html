<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>TODOSURF</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"
      integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin="" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-theme/0.1.0-beta.10/select2-bootstrap.min.css"
      rel="stylesheet" />
    <link href="./lib/leaflet-velocity/dist/leaflet-velocity.css" rel="stylesheet" />
    <link rel=" stylesheet" href="./styles.css" />
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
      }

      #mapid {
        height: 80%;
        width: 100vw;
      }
    </style>
  </head>

  <body>
    <div id="mapid"></div>
  </body>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
    integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
    crossorigin="anonymous"></script>
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
    integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
    crossorigin=""></script>
  <script src="https://unpkg.com/leaflet.vectorgrid@1.2.0"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/heatmap.js/2.0.0/heatmap.min.js"
    integrity="sha512-FpvmtV53P/z7yzv1TAIVH7PNz94EKXs5aV6ts/Zi+B/VeGU5Xwo6KIbwpTgKc0d4urD/BtkK50IC9785y68/AA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="./lib/leaflet-heatmap/leaflet-heatmap.js"></script>
  <script src="./lib/leaflet-velocity/dist/leaflet-velocity.js"></script>
  <script src="./espana.js"></script>
  <script src="./step0.js"></script>

  <script>
    let urlParams = new URLSearchParams(window.location.search)
    let locationQuery = {
      url: "https://www.todosurf.com/dev/config/classes/mapaGJS.php",
      location: "all",
      country: null
    };

    const getLocation = () => {
      if (!locationQuery) return;
      let url = `${locationQuery.url}?country=EspaÃ±a`;
      locationQuery.url = url;
      console.log("locationQuery", locationQuery);
      return locationQuery;
    };
    const isNotEmpty = s => !!(s || "").trim().length;
    const isNotAll = l => l !== "all";
  </script>
  <script src="./main.js"></script>

</html>